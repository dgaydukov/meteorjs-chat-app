<head>
  <title>Meteor Chat Application</title>
  <script
          src="https://code.jquery.com/jquery-3.2.1.js"
          integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE="
          crossorigin="anonymous"></script>
</head>

<body>

  <div class="layout">
    <header><h1>Meteor.js chat app</h1></header>
    <id class="content">
      <div class="aside">
        <div>{{> loginButtons}}</div>
        {{> userList}}
        {{> chatList}}
      </div>
      <div class="main">
        {{> chatWindow}}
        {{> userInput}}
      </div>
    </id>
    <footer></footer>
  </div>
</body>

<template name="userList">
  userlist
</template>

<template name="chatList">
  <h3>chat list</h3>
  <div id="chatList">
    <table class="table table-condensed">
      <tr>
        <th>name</th>
        <th>type</th>
        <th>date</th>
      </tr>
      {{#each chats}}
      <tr>
        <td><div data-id="{{_id}}" class="chat-item">{{name}}</div></td>
        <td>{{type}}</td>
        <td>{{formatIsoDate(date)}}</td>
      </tr>
      {{/each}}
    </table>
  </div>
  <div>
    <p><input type="text" class="form-control" placeholder="Enter chat name" id="name"/></p>
    <p class="radio">
      <label class="radio-inline"><input type="radio" name="chat-type" value="public" checked="checked"/>Public</label>
      <label class="radio-inline"><input type="radio" name="chat-type" value="private" {{disable}}/>Private</label>
    </p>
    <p><button id="add" class="btn btn-success">Add</button></p>
  </div>
</template>

<template name="chatWindow">
  <div class="chat-window" id="chatWindow">
    {{#each history}}
    <strong>{{name}}:</strong> {{msg}}<br>
    {{/each}}
  </div>
</template>

<template name="userInput">
  <p>Type your message: <br/><textarea type="text" id="msg"></textarea></p>
  <div><button class="btn btn-success" id="send">Send message</button></div>
</template>
